<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Sliding Window</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        h1, h2 {
            text-align: center;
        }
        section {
            background-color: #fff;
            margin: 20px 0;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        pre {
            background-color: #f9f9f9;
            padding: 10px;
            border-left: 4px solid #007bff;
            overflow-x: auto;
            font-family: monospace;
            white-space: pre-wrap;
        }
        ul#program-list {
            list-style-type: none;
            padding: 0;
        }
        li {
            background-color: #fff;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        li:hover {
            background-color: #e0e0e0;
        }
        #modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #modal.show {
            display: flex;
            opacity: 1;
        }
        #modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: transform 0.5s ease;
        }
        #modal.show #modal-content {
            transform: scale(1);
        }
        #close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            cursor: pointer;
        }
        #next-btn {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
        }
        #next-btn:hover {
            background-color: #0056b3;
        }
        .code-line {
            display: none;
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f9f9f9;
            border-left: 4px solid #007bff;
        }
        .code-line.active {
            display: block;
        }
        .code-line code {
            display: block;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .explanation {
            font-style: italic;
            color: #555;
            margin-top: 5px;
        }
        #step-by-step .slide {
            display: none;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        #step-by-step .slide.active {
            display: block;
            animation: slideIn 0.5s ease-in-out;
        }
        #step-by-step .pass-step p {
            margin: 5px 0;
        }
        #next-step-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
        }
        #next-step-btn:hover {
            background-color: #218838;
        }
        .highlight {
            font-size: 1.5em;
            font-weight: bold;
            color: #d32f2f;
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <h1>Binary Search</h1>
    
    <section id="definition">
        <h2>Definition</h2>
        <p>Binary Search is an efficient search algorithm that finds a target value in a sorted array by repeatedly dividing the search range in half. It compares the middle element with the target and eliminates half of the remaining elements based on the comparison. It has a time complexity of O(log n) in the worst and average cases, where n is the number of elements, and O(1) in the best case (target at the middle). Binary Search requires the data to be sorted and is ideal for large, static datasets.</p>
    </section>
    
    <section id="step-by-step">
        <h2>Step-by-Step Search (Sample Sorted Array: 2, 3, 4, 10, 40, 50, 60, 70; Target: 10)</h2>
        <div id="slides-container"></div>
        <button id="next-step-btn">Next Step</button>
    </section>
    
    <section id="program">
        <h2>Java Program for Binary Search</h2>
        <ul id="program-list">
            <li data-program="1">Click to view Binary Search Program line by line</li>
        </ul>
    </section>
    
    <section id="output">
        <h2>Output with Search Steps</h2>
        <pre id="output-pre">
Array: [2, 3, 4, 10, 40, 50, 60, 70]
Target: 10
Check middle index 3: 10 (found)
Element 10 found at index 3
        </pre>
    </section>
    
    <section id="real-world">
        <h2>Real-World Examples</h2>
        <ul>
            <li>Searching for a word in a sorted dictionary by checking the middle page and narrowing the range.</li>
            <li>Finding a specific record in a sorted database, such as a customer ID in a sorted list.</li>
            <li>Locating a number in a sorted phonebook to find the corresponding contact details.</li>
            <li>Checking a sorted list of exam scores to find a specific student’s score.</li>
            <li>Navigating a sorted index in a library catalog to find a book by its call number.</li>
        </ul>
    </section>
    
    <div id="modal">
        <div id="modal-content">
            <span id="close-btn">&times;</span>
            <h2 id="program-title"></h2>
            <div id="program-details"></div>
            <button id="next-btn">Next Line</button>
        </div>
    </div>
    
    <script>
        const steps = [
            {
                title: "Initial Sorted Array",
                array: [2, 3, 4, 10, 40, 50, 60, 70],
                operations: [],
                explanation: "This is the sorted array with target value 10. Binary Search will start with the full range (indices 0 to 7) and check the middle element to narrow the search."
            },
            {
                title: "Check Middle (Step 1)",
                array: [2, 3, 4, 10, 40, 50, 60, 70],
                operations: [
                    { indices: [3], array: [2, 3, 4, 10, 40, 50, 60, 70], desc: "Range [0,7], middle = (0+7)/2 = 3, check 10: Equal to 10, target found." }
                ],
                explanation: "Compute middle index as (0+7)/2 = 3. Compare element at index 3 (10) with target 10. Since 10 = 10, the target is found at index 3, and the search terminates."
            },
            {
                title: "Search Complete",
                array: [2, 3, 4, 10, 40, 50, 60, 70],
                operations: [],
                explanation: "The target value 10 was found at index 3 after checking one element. Binary Search is complete, returning index 3 as the result."
            }
        ];

        let currentStepIndex = 0;

        function renderSlides() {
            const container = document.getElementById('slides-container');
            container.innerHTML = '';
            steps.forEach((step, index) => {
                const slide = document.createElement('div');
                slide.className = `slide ${index === currentStepIndex ? 'active' : ''}`;
                let content = `<p><strong>${step.title}:</strong> [`;
                step.array.forEach((num, i) => {
                    content += i === 0 ? `${num}` : `, ${num}`;
                });
                content += `], Target: 10</p>`;
                if (step.operations.length > 0) {
                    content += '<p><em>Search Operations:</em></p>';
                    step.operations.forEach(op => {
                        let arrayStr = '[';
                        op.array.forEach((num, i) => {
                            const isHighlighted = op.indices.includes(i);
                            arrayStr += i === 0 ? '' : ', ';
                            arrayStr += isHighlighted ? `<span class="highlight">${num}</span>` : num;
                        });
                        arrayStr += ']';
                        content += `<p>${op.desc} → ${arrayStr}</p>`;
                    });
                }
                content += `<p><em>Positioning:</em> ${step.explanation}</p>`;
                slide.innerHTML = content;
                container.appendChild(slide);
            });
        }

        document.getElementById('next-step-btn').addEventListener('click', () => {
            currentStepIndex = (currentStepIndex + 1) % steps.length;
            renderSlides();
        });

        renderSlides();

        const programs = {
            1: {
                title: "Binary Search Program in Java (with Sample Sorted Array and Target 10)",
                lines: [
                    { code: 'public class BinarySearchExample {', explanation: 'Defines the public class BinarySearchExample for the binary search demonstration.' },
                    { code: '    public static void main(String[] args) {', explanation: 'Declares the main method, the entry point of the program.' },
                    { code: '        int[] arr = {2, 3, 4, 10, 40, 50, 60, 70};', explanation: 'Initializes the sorted integer array for the search.' },
                    { code: '        int target = 10;', explanation: 'Sets the target value to search for.' },
                    { code: '        System.out.println("Array: " + java.util.Arrays.toString(arr));', explanation: 'Prints the array using Arrays.toString for readability.' },
                    { code: '        System.out.println("Target: " + target);', explanation: 'Prints the target value.' },
                    { code: '        int result = binarySearch(arr, target);', explanation: 'Calls binarySearch to find the target and stores the result.' },
                    { code: '        if (result != -1) {', explanation: 'Checks if the target was found (result is not -1).' },
                    { code: '            System.out.println("Element " + target + " found at index " + result);', explanation: 'Prints the index where the target was found.' },
                    { code: '        } else {', explanation: 'Handles the case where the target is not found.' },
                    { code: '            System.out.println("Element " + target + " not found in array");', explanation: 'Prints a message indicating the target was not found.' },
                    { code: '        }', explanation: 'Closes the if-else block.' },
                    { code: '    }', explanation: 'Closes the main method.' },
                    { code: '    public static int binarySearch(int[] arr, int target) {', explanation: 'Defines the binarySearch method to find the target in the sorted array.' },
                    { code: '        int left = 0;', explanation: 'Initializes the left boundary of the search range to index 0.' },
                    { code: '        int right = arr.length - 1;', explanation: 'Initializes the right boundary to the last index.' },
                    { code: '        while (left <= right) {', explanation: 'Loop while the search range is valid (left <= right).' },
                    { code: '            int mid = left + (right - left) / 2;', explanation: 'Computes the middle index to avoid integer overflow.' },
                    { code: '            System.out.println("Check middle index " + mid + ": " + arr[mid] + " (not equal)");', explanation: 'Prints the middle index and element being checked.' },
                    { code: '            if (arr[mid] == target) {', explanation: 'Checks if the middle element equals the target.' },
                    { code: '                System.out.println("Check middle index " + mid + ": " + arr[mid] + " (found)");', explanation: 'Prints a message indicating the target was found.' },
                    { code: '                return mid;', explanation: 'Returns the index where the target was found.' },
                    { code: '            }', explanation: 'Closes the if block for target comparison.' },
                    { code: '            if (arr[mid] < target) {', explanation: 'Checks if the target is greater than the middle element.' },
                    { code: '                left = mid + 1;', explanation: 'Narrows the range to the right half by setting left to mid + 1.' },
                    { code: '            } else {', explanation: 'Handles the case where the target is less than the middle element.' },
                    { code: '                right = mid - 1;', explanation: 'Narrows the range to the left half by setting right to mid - 1.' },
                    { code: '            }', explanation: 'Closes the if-else block for range adjustment.' },
                    { code: '        }', explanation: 'Closes the while loop for the search.' },
                    { code: '        return -1;', explanation: 'Returns -1 if the target is not found after the search range is exhausted.' },
                    { code: '    }', explanation: 'Closes the binarySearch method.' },
                    { code: '}', explanation: 'Closes the class definition.' }
                ]
            }
        };

        let currentLineIndex = -1;

        document.querySelectorAll('#program-list li').forEach(item => {
            item.addEventListener('click', () => {
                const programId = item.getAttribute('data-program');
                const program = programs[programId];
                if (!program) {
                    console.error(`Program ${programId} not found`);
                    return;
                }

                currentLineIndex = -1;

                document.getElementById('program-title').textContent = program.title;

                const details = document.getElementById('program-details');
                details.innerHTML = '';

                program.lines.forEach((line, index) => {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = 'code-line';
                    lineDiv.innerHTML = `
                        <code>${line.code}</code>
                        <div class="explanation">${line.explanation}</div>
                    `;
                    details.appendChild(lineDiv);
                });

                document.getElementById('modal').classList.add('show');

                showNextLine();
            });
        });

        function showNextLine() {
            const codeLines = document.querySelectorAll('#program-details .code-line');
            if (currentLineIndex < codeLines.length - 1) {
                currentLineIndex++;
                codeLines[currentLineIndex].classList.add('active');
            }
            if (currentLineIndex === codeLines.length - 1) {
                document.getElementById('next-btn').style.display = 'none';
            }
        }

        document.getElementById('next-btn').addEventListener('click', () => {
            showNextLine();
        });

        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                document.getElementById('modal').classList.remove('show');
                document.getElementById('next-btn').style.display = 'block';
            }
        });

        document.getElementById('close-btn').addEventListener('click', () => {
            document.getElementById('modal').classList.remove('show');
            document.getElementById('next-btn').style.display = 'block';
        });

        document.getElementById('modal-content').addEventListener('click', (e) => {
            e.stopPropagation();
        });
    </script>
</body>
</html>